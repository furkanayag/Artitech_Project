{"ast":null,"code":"function hidden(node) {\n  return node.style.display === 'none';\n}\nfunction visible(node) {\n  while (node) {\n    if (node === document.body) {\n      break;\n    }\n    if (hidden(node)) {\n      return false;\n    }\n    node = node.parentNode;\n  }\n  return true;\n}\nfunction focusable(node) {\n  var nodeName = node.nodeName.toLowerCase();\n  var tabIndex = parseInt(node.getAttribute('tabindex'), 10);\n  var hasTabIndex = !isNaN(tabIndex) && tabIndex > -1;\n  if (visible(node)) {\n    if (['input', 'select', 'textarea', 'button'].indexOf(nodeName) > -1) {\n      return !node.disabled;\n    } else if (nodeName === 'a') {\n      return node.getAttribute('href') || hasTabIndex;\n    }\n    return node.isContentEditable || hasTabIndex;\n  }\n}\nexport function getFocusNodeList(node) {\n  var res = [].slice.call(node.querySelectorAll('*'), 0).filter(function (child) {\n    return focusable(child);\n  });\n  if (focusable(node)) {\n    res.unshift(node);\n  }\n  return res;\n}\nvar lastFocusElement = null;\nexport function saveLastFocusNode() {\n  lastFocusElement = document.activeElement;\n}\nexport function clearLastFocusNode() {\n  lastFocusElement = null;\n}\nexport function backLastFocusNode() {\n  if (lastFocusElement) {\n    try {\n      // 元素可能已经被移动了\n      lastFocusElement.focus();\n      /* eslint-disable no-empty */\n    } catch (e) {} // empty\n\n    /* eslint-enable no-empty */\n  }\n}\n\nexport function limitTabRange(node, e) {\n  if (e.keyCode === 9) {\n    var tabNodeList = getFocusNodeList(node);\n    var lastTabNode = tabNodeList[e.shiftKey ? 0 : tabNodeList.length - 1];\n    var leavingTab = lastTabNode === document.activeElement || node === document.activeElement;\n    if (leavingTab) {\n      var target = tabNodeList[e.shiftKey ? tabNodeList.length - 1 : 0];\n      target.focus();\n      e.preventDefault();\n    }\n  }\n}","map":{"version":3,"names":["hidden","node","style","display","visible","document","body","parentNode","focusable","nodeName","toLowerCase","tabIndex","parseInt","getAttribute","hasTabIndex","isNaN","indexOf","disabled","isContentEditable","getFocusNodeList","res","slice","call","querySelectorAll","filter","child","unshift","lastFocusElement","saveLastFocusNode","activeElement","clearLastFocusNode","backLastFocusNode","focus","e","limitTabRange","keyCode","tabNodeList","lastTabNode","shiftKey","length","leavingTab","target","preventDefault"],"sources":["/Users/furkan/Desktop/Artitech/node_modules/rc-util/es/Dom/focus.js"],"sourcesContent":["function hidden(node) {\n  return node.style.display === 'none';\n}\n\nfunction visible(node) {\n  while (node) {\n    if (node === document.body) {\n      break;\n    }\n\n    if (hidden(node)) {\n      return false;\n    }\n\n    node = node.parentNode;\n  }\n\n  return true;\n}\n\nfunction focusable(node) {\n  var nodeName = node.nodeName.toLowerCase();\n  var tabIndex = parseInt(node.getAttribute('tabindex'), 10);\n  var hasTabIndex = !isNaN(tabIndex) && tabIndex > -1;\n\n  if (visible(node)) {\n    if (['input', 'select', 'textarea', 'button'].indexOf(nodeName) > -1) {\n      return !node.disabled;\n    } else if (nodeName === 'a') {\n      return node.getAttribute('href') || hasTabIndex;\n    }\n\n    return node.isContentEditable || hasTabIndex;\n  }\n}\n\nexport function getFocusNodeList(node) {\n  var res = [].slice.call(node.querySelectorAll('*'), 0).filter(function (child) {\n    return focusable(child);\n  });\n\n  if (focusable(node)) {\n    res.unshift(node);\n  }\n\n  return res;\n}\nvar lastFocusElement = null;\nexport function saveLastFocusNode() {\n  lastFocusElement = document.activeElement;\n}\nexport function clearLastFocusNode() {\n  lastFocusElement = null;\n}\nexport function backLastFocusNode() {\n  if (lastFocusElement) {\n    try {\n      // 元素可能已经被移动了\n      lastFocusElement.focus();\n      /* eslint-disable no-empty */\n    } catch (e) {} // empty\n\n    /* eslint-enable no-empty */\n\n  }\n}\nexport function limitTabRange(node, e) {\n  if (e.keyCode === 9) {\n    var tabNodeList = getFocusNodeList(node);\n    var lastTabNode = tabNodeList[e.shiftKey ? 0 : tabNodeList.length - 1];\n    var leavingTab = lastTabNode === document.activeElement || node === document.activeElement;\n\n    if (leavingTab) {\n      var target = tabNodeList[e.shiftKey ? tabNodeList.length - 1 : 0];\n      target.focus();\n      e.preventDefault();\n    }\n  }\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}